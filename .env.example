# Database
DATABASE_URL=postgresql://postgres:password@localhost:5432/nexus_trading_dev
DATABASE_PUBLIC_URL=postgresql://postgres:password@localhost:5432/nexus_trading_dev

# Next.js
NEXT_PUBLIC_APP_URL=http://localhost:3000
NODE_ENV=development

# Authentication (next-auth)
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-secret-key-change-in-production-min-32-chars

# OAuth Providers
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# APIs
OPENAI_API_KEY=sk-your-openai-key

# Email Providers (Mailgun is default/primary, Resend is fallback)
MAILGUN_API_KEY=key-your-mailgun-api-key
MAILGUN_DOMAIN=mg.yourdomain.com
RESEND_API_KEY=re_your-resend-key

# Stripe
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret
STRIPE_WEBHOOK_SECRET_BILLING=whsec_your-billing-webhook-secret
STRIPE_API_VERSION=2025-02-24.acacia

# Performance Fees (5% of profits, billed monthly)
PERFORMANCE_FEE_RATE=0.05
PERFORMANCE_FEE_MIN_INVOICE_USD=1.00

# Exchange APIs (Base URLs - actual keys stored encrypted in DB)
KRAKEN_API_BASE_URL=https://api.kraken.com
BINANCE_API_BASE_URL=https://api.binance.com
COINBASE_API_BASE_URL=https://api.coinbase.com

# Trading Configuration
TRADING_PAIRS=["BTC/USD","BTC/USDT","ETH/USD","ETH/USDT"]
SUPPORTED_QUOTE_CURRENCIES=["USD","USDT","USDC","BUSD"]

# Market Regime
REGIME_CHECK_INTERVAL_MS=300000
REGIME_FALLBACK_STRATEGY=conservative
DISABLE_EXTERNAL_MARKET_REGIME=false

# Rate Limiting & Performance
MAX_API_CALLS_PER_MINUTE=600
MARKET_DATA_CACHE_TTL_MS=15000
MARKET_DATA_CACHE_STALE_TTL_MS=5000

# Bot Configuration
BOT_API_PORT_START=20000
BOT_API_PORT_END=39999

# Feature Flags
ENABLE_TRADE_ALERTS=true
ENABLE_BACKTESTING=false
LLM_PROVIDER=openai

# Pyramiding Rules (from existing profitable bot)
PYRAMID_LAYERS=3
PYRAMID_INITIAL_INVESTMENT=100
PYRAMID_MULTIPLIER=1.5
PYRAMID_PROFIT_TARGET=5
PYRAMID_STOP_LOSS=3

# Encryption
ENCRYPTION_KEY=your-encryption-key-min-32-chars-change-in-prod

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Pyramiding Configuration (Aggressive - from /nexus profitable bot)
KRAKEN_BOT_PYRAMIDING_ENABLED=true
KRAKEN_BOT_PYRAMID_LEVELS=2
KRAKEN_BOT_PYRAMID_L1_TRIGGER_PCT=0.045
KRAKEN_BOT_PYRAMID_L2_TRIGGER_PCT=0.080
KRAKEN_BOT_PYRAMID_ADD_SIZE_PCT_L1=0.35
KRAKEN_BOT_PYRAMID_ADD_SIZE_PCT_L2=0.50
KRAKEN_BOT_PYRAMID_L1_CONFIDENCE_MIN=85
KRAKEN_BOT_PYRAMID_L2_CONFIDENCE_MIN=90
KRAKEN_BOT_PYRAMID_EROSION_CAP_CHOPPY=0.006
KRAKEN_BOT_PYRAMID_EROSION_CAP_TREND=0.008
